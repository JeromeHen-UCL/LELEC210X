#if !defined(SCALER_H)
#define SCALER_H

#include "config.h"

#if defined(ENABLE_EMB_PRECOMP) && (ENABLE_EMB_PRECOMP == 1)

#define N_FEATURES (MELVEC_LENGTH * N_MELVECS)

static const float SCALER_MEAN[N_FEATURES] = {
    0.32750267, 0.31341972, 0.30988099, 0.30526367, 0.30495281, 0.30686456, 0.30709843,
    0.30221333, 0.30428762, 0.30526293, 0.30612907, 0.30661869, 0.30823486, 0.30871174,
    0.30941409, 0.31453902, 0.31589567, 0.31639205, 0.31563689, 0.31444642, 0.35173732,
    0.32411682, 0.31959553, 0.31212806, 0.30772603, 0.31246144, 0.31072458, 0.30622305,
    0.3087504,  0.30981432, 0.30809231, 0.30827408, 0.31051559, 0.31212511, 0.31067652,
    0.31546202, 0.31817822, 0.31782242, 0.31397201, 0.31428292, 0.17161846, 0.164353,
    0.16271846, 0.15822092, 0.15745995, 0.1582125,  0.15729201, 0.15576535, 0.15712905,
    0.1562184,  0.15583773, 0.15517125, 0.15653628, 0.15684494, 0.15640439, 0.15691804,
    0.15942801, 0.15902442, 0.1580684,  0.15915033, 0.14211832, 0.1350699,  0.13198416,
    0.12960243, 0.13011472, 0.12894878, 0.12851981, 0.12678623, 0.12746363, 0.12608382,
    0.12553554, 0.12514568, 0.12732985, 0.12728444, 0.12641644, 0.1276031,  0.13006565,
    0.12921381, 0.1285973,  0.12902398, 0.14628783, 0.13909932, 0.13549025, 0.13495593,
    0.13374908, 0.13198974, 0.13242423, 0.13014738, 0.13122846, 0.12846692, 0.12847362,
    0.12960438, 0.13096802, 0.13150281, 0.13093093, 0.13215987, 0.13350534, 0.13275954,
    0.13215744, 0.13362389, 0.1407532,  0.13377904, 0.13130438, 0.13063,    0.1282984,
    0.12751909, 0.12764451, 0.124938,   0.12564832, 0.12404577, 0.12386206, 0.12442309,
    0.12513598, 0.12576302, 0.1272007,  0.12684798, 0.12894664, 0.12956989, 0.1293443,
    0.12981757, 0.13988838, 0.13089363, 0.12905022, 0.12774546, 0.12512553, 0.12587933,
    0.12525466, 0.12438758, 0.12620764, 0.1233595,  0.12231586, 0.12295487, 0.12377291,
    0.12440029, 0.12393488, 0.12449919, 0.12757047, 0.12748079, 0.12678287, 0.12716658,
    0.12084475, 0.11613321, 0.11319263, 0.1118817,  0.10930483, 0.1084611,  0.10774511,
    0.10735573, 0.10714252, 0.1065546,  0.10479759, 0.10505888, 0.10566458, 0.10563379,
    0.10531146, 0.10746513, 0.10866722, 0.10781648, 0.10604425, 0.10664111, 0.11413858,
    0.10857847, 0.10640002, 0.10504632, 0.10273068, 0.10186263, 0.10169107, 0.10023661,
    0.10082634, 0.09992647, 0.09939535, 0.09813369, 0.09910115, 0.09946509, 0.09876562,
    0.09974704, 0.10239927, 0.10119166, 0.09994988, 0.09989555, 0.08285767, 0.07847961,
    0.07672584, 0.07561983, 0.0741007,  0.07293407, 0.07278772, 0.07167838, 0.07189929,
    0.07122894, 0.07128706, 0.07076785, 0.07097564, 0.07157136, 0.07114369, 0.0720275,
    0.07427068, 0.07330943, 0.07248825, 0.0724447,  0.04910212, 0.04697614, 0.04616064,
    0.04582441, 0.04474647, 0.04387971, 0.04419804, 0.04334235, 0.04320348, 0.04325863,
    0.04271136, 0.04308455, 0.04337515, 0.0431417,  0.04318429, 0.04365288, 0.04539998,
    0.04478268, 0.04411195, 0.04408857, 0.05497969, 0.05267248, 0.05166861, 0.05115602,
    0.04982541, 0.04933094, 0.04944981, 0.0480245,  0.04888263, 0.04889446, 0.0481629,
    0.04890641, 0.04918888, 0.04933482, 0.04916774, 0.04937054, 0.05157312, 0.05061689,
    0.05015139, 0.05082407, 0.05599634, 0.05340329, 0.05268036, 0.0515541,  0.04999578,
    0.04984921, 0.05046283, 0.04937723, 0.04981003, 0.05002328, 0.04922259, 0.05034084,
    0.04958926, 0.05072304, 0.05049354, 0.05079661, 0.05314114, 0.05190982, 0.05171715,
    0.05237367, 0.04743634, 0.04525333, 0.04397459, 0.04360104, 0.04231445, 0.04229892,
    0.04258122, 0.04219375, 0.04233199, 0.0424008,  0.04141405, 0.04245138, 0.04178943,
    0.04324752, 0.04294356, 0.04339383, 0.04558298, 0.04524994, 0.04437026, 0.04468169,
    0.04176426, 0.04047796, 0.03898434, 0.03873375, 0.03812501, 0.03793526, 0.03881049,
    0.0375711,  0.03829155, 0.03816521, 0.03731265, 0.03832326, 0.03806056, 0.0386409,
    0.03848253, 0.03948206, 0.0403162,  0.04049656, 0.03900419, 0.03954121, 0.02896807,
    0.02837819, 0.02751402, 0.02728745, 0.02696155, 0.02677324, 0.02718435, 0.02677189,
    0.02668581, 0.02650985, 0.02629816, 0.02733722, 0.02704134, 0.02721129, 0.02718174,
    0.02774569, 0.02851207, 0.02823122, 0.02732237, 0.02744852, 0.02171325, 0.02122322,
    0.0203046,  0.02035486, 0.01992989, 0.01993431, 0.01988303, 0.01964441, 0.01969907,
    0.0202597,  0.01959015, 0.0205008,  0.02029691, 0.02066552, 0.02062309, 0.02109009,
    0.02138717, 0.02123996, 0.02090396, 0.02117954, 0.02907636, 0.02801703, 0.02705525,
    0.02662053, 0.02664077, 0.02604624, 0.02658233, 0.02589133, 0.02597642, 0.02688963,
    0.02590964, 0.02692796, 0.02677705, 0.02709613, 0.02664586, 0.0274526,  0.02779999,
    0.02765817, 0.0276965,  0.02731444, 0.02315727, 0.02203265, 0.02150177, 0.0211743,
    0.0207859,  0.02039313, 0.02117781, 0.02025716, 0.02033409, 0.02102937, 0.0204036,
    0.0208945,  0.02107809, 0.02152344, 0.02089771, 0.02142817, 0.02199972, 0.02187398,
    0.02227596, 0.02127442, 0.01138243, 0.01116586, 0.01083241, 0.01069171, 0.01048849,
    0.01018201, 0.01069827, 0.01021101, 0.01024028, 0.01078438, 0.01045641, 0.0106932,
    0.01066867, 0.01083607, 0.01069246, 0.01082833, 0.01132331, 0.01132191, 0.01159654,
    0.01092048};

static const float SCALER_STD[N_FEATURES] = {
    0.28715467, 0.26992204, 0.26520714, 0.26216856, 0.26278133, 0.26575206, 0.2647657,  0.26300493,
    0.26283229, 0.26261213, 0.26448652, 0.26308773, 0.26525417, 0.26550818, 0.26585346, 0.26792104,
    0.26744636, 0.26892734, 0.27046348, 0.27002292, 0.30482378, 0.28998904, 0.2831537,  0.27220859,
    0.26981452, 0.27277356, 0.2700507,  0.26523708, 0.26624746, 0.26541904, 0.26511872, 0.26560067,
    0.26835751, 0.26824696, 0.26539914, 0.26609005, 0.26901477, 0.27065305, 0.26820193, 0.27261408,
    0.18249424, 0.17667986, 0.17201763, 0.16554414, 0.16592148, 0.16561727, 0.16136537, 0.15973317,
    0.15945191, 0.15680464, 0.15825431, 0.15705603, 0.15786281, 0.15689634, 0.15718271, 0.15346813,
    0.15666721, 0.15846696, 0.16005887, 0.16371088, 0.16959812, 0.16060022, 0.1515518,  0.14952796,
    0.15106973, 0.14772854, 0.14543724, 0.14291845, 0.14394995, 0.13952805, 0.14102032, 0.13971825,
    0.1411613,  0.14309575, 0.14017026, 0.13995946, 0.14485153, 0.14422029, 0.14497885, 0.15073229,
    0.18248718, 0.17491119, 0.16685647, 0.16571025, 0.16502947, 0.1605931,  0.16075429, 0.1601255,
    0.16048869, 0.15419352, 0.15625612, 0.15929142, 0.16105895, 0.16057273, 0.159727,   0.16049456,
    0.16092627, 0.15990939, 0.16137911, 0.16883406, 0.17849805, 0.17153022, 0.16576061, 0.16458881,
    0.16170529, 0.1596217,  0.15918838, 0.15519822, 0.15598083, 0.15275651, 0.15319872, 0.1543962,
    0.15533439, 0.15503026, 0.15886089, 0.15683773, 0.16076726, 0.1642415,  0.16324775, 0.16648343,
    0.17825029, 0.16757864, 0.16354809, 0.16115679, 0.15585464, 0.15613811, 0.15702353, 0.15500907,
    0.15951623, 0.15426621, 0.15294073, 0.15428322, 0.15498163, 0.15538581, 0.15468996, 0.1547146,
    0.16070337, 0.16276947, 0.161529,   0.16420748, 0.16331014, 0.15692248, 0.15095789, 0.14816466,
    0.14275647, 0.14003516, 0.13951425, 0.13980588, 0.13886596, 0.1383864,  0.13635565, 0.13570811,
    0.13743031, 0.13587546, 0.13838904, 0.14142557, 0.14029492, 0.14185651, 0.13821188, 0.141856,
    0.15523447, 0.14758633, 0.14349215, 0.1402777,  0.13719291, 0.1339997,  0.13261393, 0.13254597,
    0.13498356, 0.1343158,  0.13565833, 0.12982219, 0.13309293, 0.13220369, 0.1309097,  0.13289446,
    0.13734648, 0.13706551, 0.13341669, 0.13532212, 0.12072941, 0.11450638, 0.11027151, 0.10723943,
    0.10422537, 0.10147108, 0.10141898, 0.10206252, 0.1023553,  0.10113829, 0.1040817,  0.10067009,
    0.10055928, 0.10089404, 0.09983508, 0.10142626, 0.10543061, 0.10454636, 0.1029171,  0.10574061,
    0.07739582, 0.07172072, 0.07007373, 0.0692989,  0.0674408,  0.06508824, 0.06659239, 0.06486552,
    0.06272007, 0.0646619,  0.06424934, 0.06453531, 0.06591836, 0.06326808, 0.06407806, 0.06337189,
    0.06787548, 0.06754352, 0.06640365, 0.06757524, 0.08544156, 0.08058737, 0.07791512, 0.07709587,
    0.07498435, 0.07366867, 0.07498893, 0.07082012, 0.07369277, 0.07576382, 0.0747641,  0.07484273,
    0.07647329, 0.07620788, 0.07569554, 0.07387784, 0.07983013, 0.07836167, 0.07716231, 0.08129992,
    0.08740055, 0.08454033, 0.08348178, 0.07934416, 0.0771634,  0.07679221, 0.07983863, 0.07734558,
    0.07879489, 0.08006165, 0.07998163, 0.08171863, 0.07838665, 0.08107372, 0.08094419, 0.07971485,
    0.08607112, 0.08199596, 0.08347964, 0.08776911, 0.074504,   0.0738986,  0.06994489, 0.06801578,
    0.06615919, 0.06682253, 0.06861585, 0.06784416, 0.06832457, 0.06997651, 0.06786648, 0.07105213,
    0.06754142, 0.06961483, 0.06981098, 0.07020638, 0.07649565, 0.07685009, 0.07564461, 0.07904749,
    0.06890133, 0.07019593, 0.06697982, 0.0647854,  0.0641923,  0.06475125, 0.06890709, 0.06412911,
    0.06617504, 0.06661788, 0.06534931, 0.06892988, 0.06762598, 0.06661043, 0.06648761, 0.06911425,
    0.06899788, 0.0723315,  0.06673796, 0.07017146, 0.04770049, 0.04931342, 0.04926844, 0.04621175,
    0.04640883, 0.04832932, 0.04931563, 0.04881077, 0.04484131, 0.04552303, 0.04906741, 0.05327096,
    0.0497524,  0.04855906, 0.04916954, 0.04984388, 0.05043686, 0.05067975, 0.04467775, 0.04729418,
    0.03806017, 0.03691129, 0.03415339, 0.03499117, 0.03423582, 0.03465944, 0.03414218, 0.03364328,
    0.03458735, 0.03922369, 0.035315,   0.03925822, 0.03685497, 0.03799461, 0.03775943, 0.03730939,
    0.03733925, 0.0394637,  0.03631696, 0.03852148, 0.0523303,  0.05197624, 0.04791032, 0.04808553,
    0.05175221, 0.04602132, 0.04884075, 0.04557581, 0.04654065, 0.05475344, 0.04782984, 0.05387493,
    0.04853111, 0.04985959, 0.04640769, 0.04882743, 0.04790737, 0.04985059, 0.05012701, 0.04835507,
    0.04582543, 0.04296863, 0.043439,   0.04273751, 0.04258979, 0.03819561, 0.04456979, 0.03752314,
    0.03809122, 0.04551705, 0.04073241, 0.04431389, 0.04396662, 0.04344803, 0.03843324, 0.03885345,
    0.04239407, 0.04312425, 0.04717427, 0.04018972, 0.02173352, 0.02458068, 0.02274367, 0.02209391,
    0.0210698,  0.01883636, 0.02231695, 0.01980512, 0.02050181, 0.02387349, 0.02275382, 0.02299459,
    0.02139827, 0.02147474, 0.02023723, 0.01930919, 0.02174698, 0.02284384, 0.02717588, 0.0205856};

/**
 * @brief Applies the StandardScaler transformation to the input data.
 *
 * @param input array of input data of size N_FEATURES
 * @param output array of output data of size N_FEATURES
 */
void scaler_transform(const float* input, float* output);

#endif // ENABLE_EMB_PRECOMP) && (ENABLE_EMB_PRECOMP == 1)

#endif // SCALER_H
